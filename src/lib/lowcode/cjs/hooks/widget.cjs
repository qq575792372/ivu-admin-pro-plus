"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("vue"),v=require("./global.cjs"),b=require("./data-sources.cjs");function F({props:l,emits:a}){const{executeGlobalFn:r}=v.default({props:l,emits:a}),{requestData:d}=b.default({props:l,emits:a}),u=i.computed(()=>l.globalConfig||{}),f=function(e){let t=this;if(e.includes("$globalVars"))return new Function("$globalVars",`return ${e}`)(u.value.globalVars);if(e.includes("$globalFns")){let n=e.split(".")[1];return r(u.value.globalFns,n,t,u.value.globalVars)}else if(e.includes("$dataSources")){let n=e.split(".")[1],c=null;return i.watchEffect(async()=>{c=await d(n,{myId:123,myName:"myName"},t)}),c}else return e},o=function(e,t){return e.events.find(n=>n.name===t)},g=function(e,t){let n=o(e,t);return new Function(...n.args,n.code)(e)},s=function(e,t){return e.actions.find(n=>n.name===t)};return{getPropValue:f,getEvent:o,executeEvent:g,getAction:s,executeAction:function(e,t){let n=s(e,t);return n&&new Function("widget",n.code)}}}exports.default=F;
